function handleNoGeolocation(a){new google.maps.LatLng(60,105);addMarker(new google.maps.LatLng(60,105),"Current Position",map,"")}function addMarker(a,b,e,c,f){var d=new google.maps.Marker({position:a,draggable:!1,map:e,title:b,id:f});google.maps.event.addListener(d,"click",function(){$("#loader-information").show();loadDetails(d.id);var a="<div>"+b+"</div>";""!=c&&(a=1<c?a+("<div>"+c+" operators</div>"):a+("<div>"+c+" operator</div>"));(new google.maps.InfoWindow({content:a})).open(e,d)})}
function initialize(){mapOptions={zoom:6,center:new google.maps.LatLng(10.525043645645093,-66.88489590572499)};map=new google.maps.Map(document.getElementById("map-canvas-locate"),mapOptions);navigator.geolocation?navigator.geolocation.getCurrentPosition(function(b){$("#latitude").val(b.coords.latitude);$("#length").val(b.coords.longitude);b=new google.maps.LatLng(b.coords.latitude,b.coords.longitude);addMarker(b,"Current Position",map,"");map.setCenter(b)},function(){handleNoGeolocation(!0)}):handleNoGeolocation(!1);
for(var a=0;a<locations.length;a++)addMarker(new google.maps.LatLng(locations[a][1],locations[a][2]),locations[a][0],map,locations[a][3],locations[a][4])}$(document).ready(function(){google.maps.event.addDomListener(window,"load",initialize)});
function loadDetails(a){$.post(addressLoadDetails,"id="+a,function(b){if(b.state){$("section.content > section > section:nth-child(2) > ul").html("");$("section.content > section > section:nth-child(2) > ul").html('<li class="title">Point selected</div>');for(var a=0;a<b.users.length;a++)$("section.content > section > section:nth-child(2) > ul").append('<li class="content-list"><img src="'+route+b.users[a].picture+'"><span>'+b.users[a].userId+" - "+b.users[a].name+" "+b.users[a].lastName+"</span> </li>");
""!=b.type?showMessage(b.type):$(".alert").hide();$("#loader-information").hide()}},"JSON")}$(document).ready(function(){$("#form").submit(function(){validation()&&($("#loader-login").show(),$("button[type='submit']").attr("disabled","disabled"),updateUser($(this).serialize()))});$("#email").change(function(){searchEmail($(this).val(),$("#id").val())});$("#user-id").change(function(){searchUserId($(this).val(),$("#id").val())})});
function updateUser(a){$.post(addressUpdateUser,a,function(a){a.state&&($("#loader-login").fadeOut("fast"),showMessage(a.type),$("button[type='submit']").removeAttr("disabled"))},"JSON")}function searchEmail(a,b){$.post(addressSearchEmail,"email="+a+"&id="+b,function(a){a.state?$("#email").removeClass("error"):$("#email").addClass("error")},"JSON")}
function searchUserId(a,b){$.post(addressSearchUserId,"userid="+a+"&id="+b,function(a){a.state?$("#user-id").removeClass("error"):$("#user-id").addClass("error")},"JSON")}function validation(){return $("#email").hasClass("error")&&$("#user-id").hasClass("error")?!1:!0};