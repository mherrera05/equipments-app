$(document).ready(function(){$("#installations").dataTable({dom:'T<"clear">lfrtip',order:[[0,"desc"]],lenght:!1,info:!1,tableTools:{sSwfPath:"../web/swf/copy_csv_xls_pdf.swf"}});$("button.new-button").click(function(){window.location=$(this).attr("route")});$("#delete").click(function(){deleteInstallation($(this).attr("pk"))})});$(document).on("mouseover","table.dataTable tbody td > a.point-tooltip",function(){$(this).next().show()}).on("mouseout","table.dataTable tbody td > a.point-tooltip",function(){$(this).next().hide()});
$(document).on("mouseover","table.dataTable tbody td > a.complete-installation",function(){$(this).html("Done")}).on("mouseout","table.dataTable tbody td > a.complete-installation",function(){$(this).html("To do")}).on("click","table.dataTable tbody td > a.complete-installation",function(){$(this).next().show();completeInstallation($(this).attr("pk"),$(this).next())});
$(document).on("click",".delete",function(){$(".modal .title").html("Do you really want to delete this installation?");$("#delete").attr("pk",$(this).attr("pk"));$(".content-modal").show()});function completeInstallation(b,a){$.post(addressCompleteInstallation,"id="+b,function(c){c.state&&(a.hide(),showMessage(c.type),a.parent().parent().addClass("done"),a.parent().html("Done"),$("#delete-"+b).remove())},"JSON")}
function deleteInstallation(b){$.post(addressDeleteInstallation,"id="+b,function(a){a.state&&($(".content-modal").hide(),$("#row-"+b).fadeOut("fast"),showMessage(a.type))},"JSON")};