function handleNoGeolocation(a){new google.maps.LatLng(60,105);addMarker(new google.maps.LatLng(60,105),"Current Position",map,"")}
function addMarker(a,d,b,c,f){var e=new google.maps.Marker({position:a,draggable:!1,map:b,title:d,id:f});markers.push(e);google.maps.event.addListener(e,"click",function(){$("#loader-information").show();loadDetails(e.id);var a="<div>"+d+"</div>";""!=c&&(a=1<c?a+("<div>"+c+" equipments</div>"):a+("<div>"+c+" equipment</div>"));(new google.maps.InfoWindow({content:a})).open(b,e)})}
function initialize(){mapOptions={zoom:6,center:new google.maps.LatLng(10.525043645645093,-66.88489590572499)};map=new google.maps.Map(document.getElementById("map-canvas-locate"),mapOptions);navigator.geolocation?navigator.geolocation.getCurrentPosition(function(a){$("#latitude").val(a.coords.latitude);$("#length").val(a.coords.longitude);a=new google.maps.LatLng(a.coords.latitude,a.coords.longitude);addMarker(a,"Current Position",map,"");map.setCenter(a)},function(){handleNoGeolocation(!0)}):handleNoGeolocation(!1);
for(var a=0;a<locations.length;a++)addMarker(new google.maps.LatLng(locations[a][1],locations[a][2]),locations[a][0],map,locations[a][3],locations[a][4])}
$(document).ready(function(){google.maps.event.addDomListener(window,"load",initialize);$("#type").change(function(){deleteMarkers();$("#loader-select").show();if(0!=$(this).val())searchLocationTypeEquipments($(this).val());else{for(var a=0;a<locations.length;a++)addMarker(new google.maps.LatLng(locations[a][1],locations[a][2]),locations[a][0],map,locations[a][3],locations[a][4]);$("#loader-select").fadeOut("fast")}})});
function loadDetails(a){$.post(addressLoadDetails,"id="+a,function(a){if(a.state){$("section.content > section > section:nth-child(2) > ul").html("");$("section.content > section > section:nth-child(2) > ul").html('<li class="title">Point selected</div>');for(var b=0;b<a.equipments.length;b++)$("section.content > section > section:nth-child(2) > ul").append('<li class="content-list">'+a.equipments[b].serial+" - "+a.equipments[b].brand+" "+a.equipments[b].model+" </li>");""!=a.type?showMessage(a.type):
$(".alert").hide();$("#loader-information").hide()}},"JSON")}function setAllMap(a){for(var d=0;d<markers.length;d++)markers[d].setMap(a)}function clearMarkers(){setAllMap(null)}function deleteMarkers(){clearMarkers();markers=[]}
function searchLocationTypeEquipments(a){$.post(addressSearchLocationTypeEquipments,"type="+a,function(a){if(a.state){for(var b=a.data,c=0;c<b.length;c++)addMarker(new google.maps.LatLng(b[c].latitude,b[c].length),b[c].locationName+"-"+b[c].projectName,map,b[c].count,b[c].locationId);$("#loader-select").fadeOut("fast")}showMessage(a.type)},"JSON")};